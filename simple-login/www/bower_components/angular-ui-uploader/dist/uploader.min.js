/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.0.0 - 2015-07-01T01:57:39.947Z
 * License: MIT
 */
!function(){"use strict";function e(e){function o(e){for(var o=0;o<e.length;o++)d.files.push(e[o])}function i(){return d.files}function n(e){d.options=e;for(var o=0;o<d.files.length&&d.activeUploads!=d.options.concurrency;o++)d.files[o].active||a(d.files[o],d.options.url,d.options.data)}function l(e){d.files.splice(d.files.indexOf(e),1)}function t(){d.files.splice(0,d.files.length)}function s(e){var o=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(i?1:0)+" "+o[isNaN(e)?0:i+1]}function a(e,o,i){var l,t,a,r="file";if(i=i||{},d.activeUploads+=1,e.active=!0,l=new window.XMLHttpRequest,t=new window.FormData,l.open("POST",o),l.upload.onloadstart=function(){},l.upload.onprogress=function(o){o.lengthComputable&&(e.loaded=o.loaded,e.humanSize=s(o.loaded),d.options.onProgress(e))},l.onload=function(){d.activeUploads-=1,d.uploadedFiles+=1,n(d.options),d.options.onCompleted(e,l.responseText),d.uploadedFiles===d.files.length&&(d.uploadedFiles=0,d.options.onCompletedAll(d.files))},l.onerror=function(){},i)for(a in i)i.hasOwnProperty(a)&&t.append(a,i[a]);return t.append(r,e,e.name),l.send(t),l}var d=this;return d.files=[],d.options={},d.activeUploads=0,d.uploadedFiles=0,e.info("uiUploader loaded"),{addFiles:o,getFiles:i,files:d.files,startUpload:n,removeFile:l,removeAll:t}}angular.module("ui.uploader",[]).service("uiUploader",e),e.$inject=["$log"]}();